// Variables de couleurs et design
$primary-color: #2563EB;
$primary-light: #3B82F6;
$primary-dark: #1D4ED8;
$secondary-color: #4B5563;
$bg-color: #F9FAFB;
$card-bg: #FFFFFF;
$text-color: #1F2937;
$text-muted: #6B7280;
$error-bg: #FEE2E2;
$error-text: #B91C1C;
$error-border: #EF4444;
$success-color: #10B981;
$input-border: #D1D5DB;
$input-focus-bg: #F0F5FF;
$box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
$border-radius: 12px;
$input-radius: 10px;
$transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);

// Typographie
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');

// Mixins
@mixin flex-center {
   display: flex;
   justify-content: center;
   align-items: center;
}

// Global Styles
body {
   background-color: $bg-color;
   background-image: linear-gradient(135deg, #EFF6FF 0%, #F3F4F6 100%);
   font-family: 'Poppins', sans-serif;
   color: $text-color;
   @include flex-center;
   min-height: 100vh;
   margin: 0;
}

// Styles spécifiques pour la page de mot de passe oublié
.forgot-form {
   display: flex;
   flex-direction: column;
   gap: 24px;
   max-width: 85%;
   margin: 0 auto;
}

.form-info {
   color: $text-muted;
   font-size: 14px;
   text-align: center;
   margin-top: 5px;
   margin-bottom: 10px;
   background-color: rgba($primary-light, 0.05);
   border-radius: $input-radius;
   padding: 12px 15px;
   border-left: 3px solid $primary-light;
}

// Styles pour la page de mot de passe oublié qui utilise un HTML minimal
.simple-form {
   display: flex;
   flex-direction: column;
   gap: 20px;
   width: 100%;

   label {
      color: $text-color;
      font-weight: 500;
      font-size: 15px;
      margin-bottom: 5px;
      display: block;
   }

   input[type="email"] {
      width: 100%;
      padding: 14px;
      padding-left: 45px;
      border: 1.5px solid $input-border;
      border-radius: $input-radius;
      font-size: 15px;
      font-weight: 400;
      transition: $transition;
      background-color: $card-bg;
      color: $text-color;

      &:focus {
         border-color: $primary-color;
         background-color: $input-focus-bg;
         outline: none;
         box-shadow: 0 0 0 3px rgba($primary-color, 0.15);
      }
   }

   .input-container {
      position: relative;

      &:before {
         content: '\f0e0';
         font-family: 'Font Awesome 5 Free';
         font-weight: 900;
         position: absolute;
         left: 15px;
         top: 50%;
         transform: translateY(-50%);
         color: $text-muted;
         font-size: 18px;
         transition: $transition;
         z-index: 1;
      }

      &:focus-within:before {
         color: $primary-color;
      }
   }
}

// Ajout d'un style pour le conteneur spécifique à cette page
.reset-container {
   position: relative;

   &:after {
      content: "";
      position: absolute;
      top: 30px;
      right: 30px;
      width: 60px;
      height: 60px;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%232563EB' stroke-width='1' stroke-linecap='round' stroke-linejoin='round'%3E%3Crect x='3' y='11' width='18' height='11' rx='2' ry='2'%3E%3C/rect%3E%3Cpath d='M7 11V7a5 5 0 0 1 10 0v4'%3E%3C/path%3E%3C/svg%3E");
      opacity: 0.1;
      background-repeat: no-repeat;
      background-position: center;
      background-size: contain;
   }
}

h1 {
   font-weight: 600;
   color: $primary-dark;
   margin-bottom: 30px;
   font-size: 28px;
   position: relative;

   &:after {
      content: '';
      position: absolute;
      bottom: -10px;
      left: 50%;
      transform: translateX(-50%);
      width: 50px;
      height: 3px;
      background: linear-gradient(to right, $primary-light, $primary-dark);
      border-radius: 5px;
   }
}

// Conteneur principal
.container {
   width: 100%;
   max-width: 420px;
   padding: 30px;
   background-color: $card-bg;
   border-radius: $border-radius;
   box-shadow: $box-shadow;
   animation: fadeIn 0.6s ease-out;
   position: relative;
   overflow: hidden;

   &:before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 5px;
      background: linear-gradient(to right, $primary-color, $primary-light);
   }
}

@keyframes fadeIn {
   from {
      opacity: 0;
      transform: translateY(-20px);
   }

   to {
      opacity: 1;
      transform: translateY(0);
   }
}

// Formulaire de connexion
.login-form {
   display: flex;
   flex-direction: column;
   gap: 10px;
}

// Champs de formulaire avec icône
.input-wrapper {
   position: relative;
   display: flex;
   align-items: center;
   margin-bottom: 6px;
}

.input-wrapper i {
   position: absolute;
   left: 15px;
   top: 50%;
   transform: translateY(-50%);
   color: $text-muted;
   font-size: 18px;
   transition: $transition;
   z-index: 1;
}

.input-field {
   width: 100%;
   padding: 14px;
   border: 1.5px solid $input-border;
   border-radius: $input-radius;
   font-size: 15px;
   font-weight: 400;
   transition: $transition;
   background-color: $card-bg;
   color: $text-color;

   &::placeholder {
      color: lighten($text-muted, 10%);
      font-weight: 300;
   }

   &:focus {
      border-color: $primary-color;
      background-color: $input-focus-bg;
      outline: none;
      box-shadow: 0 0 0 3px rgba($primary-color, 0.15);

      &+i {
         color: $primary-color;
      }
   }
}

.forgotPwd {
   display: flex;
   justify-content: flex-end;
   margin-top: -10px;
   margin-bottom: 5px;
   font-size: 14px;
}

// Bouton de connexion amélioré
.button {
   width: 100%;
   padding: 15px;
   background: linear-gradient(to right, $primary-color, $primary-light);
   color: white;
   border-radius: $input-radius;
   border: none;
   cursor: pointer;
   font-size: 17px;
   font-weight: 600;
   letter-spacing: 0.5px;
   transition: $transition;
   box-shadow: 0 4px 10px rgba($primary-color, 0.3);
   margin-top: 10px;
   position: relative;
   overflow: hidden;

   &:hover {
      box-shadow: 0 6px 15px rgba($primary-color, 0.4);
   }

   &:active {
      transform: translateY(1px);
      box-shadow: 0 2px 8px rgba($primary-color, 0.3);
   }

   &:after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 5px;
      height: 5px;
      background: rgba(255, 255, 255, 0.5);
      opacity: 0;
      border-radius: 100%;
      transform: translate(-50%, -50%) scale(1);
      transition: all 0.6s ease;
   }

   &:active:after {
      opacity: 1;
      transform: translate(-50%, -50%) scale(50);
      transition: all 0s;
   }
}

// Liens
.link {
   color: $primary-color;
   text-decoration: none;
   font-weight: 500;
   transition: $transition;
   position: relative;
   padding-bottom: 2px;

   &:after {
      content: '';
      position: absolute;
      width: 0;
      height: 1.5px;
      bottom: 0;
      left: 0;
      background-color: $primary-color;
      transition: width 0.3s ease;
   }

   &:hover {
      color: $primary-dark;
      text-decoration: none;

      &:after {
         width: 100%;
      }
   }
}

// Messages d'erreur
.error-list {
   padding: 0;
   margin: 0;

   li {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 12px 16px;
      background-color: $error-bg;
      color: $error-text;
      border-left: 4px solid $error-border;
      border-radius: $input-radius;
      font-size: 14px;
      margin-bottom: 8px;
      box-shadow: 0 2px 5px rgba($error-text, 0.1);

      &:before {
         content: '\f071';
         font-family: 'Font Awesome 5 Free';
         font-weight: 900;
         color: $error-text;
      }
   }
}

// Texte centré avec amélioration
.text-center {
   text-align: center;
   margin-top: 15px;
   color: $text-muted;
   font-size: 15px;

   .link {
      font-weight: 600;
      margin-left: 5px;
   }
}

// Animation pour les champs de saisie
.input-field {
   transform-origin: left;

   &:focus {
      animation: pulse 1s;
   }
}

@keyframes pulse {
   0% {
      box-shadow: 0 0 0 0 rgba($primary-color, 0.4);
   }

   70% {
      box-shadow: 0 0 0 5px rgba($primary-color, 0);
   }

   100% {
      box-shadow: 0 0 0 0 rgba($primary-color, 0);
   }
}

// Responsive
@media (max-width: 480px) {
   .container {
      padding: 30px 20px;
   }

   h1 {
      font-size: 24px;
   }

   .button {
      padding: 13px;
   }
}